import{u as y,r as o,o as v,c as p,w as l,V as h,a as t,b as k,d as C,e as x,f as w,g as b,h as f,i as m,j as B,k as S,l as i,t as I,m as N,n as E}from"./index.fb152853.js";var U="/assets/pendiente2.63d9aec7.jpg";const T=i("Bienvenido a la central"),$=i("Indica tus credenciales"),j=m("div",{style:{height:"30px"}},null,-1),A=i(" Iniciar sesi\xF3n "),D={setup(R){const V=y(),n=o(""),r=o(""),u=o(!1),d=o(!1),s=o(""),g="http://147.182.251.164:8082",_=async()=>{var c,a;if(!n.value||!r.value){s.value="Por favor ingrese usuario y contrase\xF1a";return}d.value=!0,s.value="";try{const e=await E.post(`${g}/apigw/v1/login`,{nickname:n.value,contrasena:r.value});e.status===201||e.status===200?(localStorage.setItem("auth_token",e.data.token),localStorage.setItem("user_info",JSON.stringify(e.data.user)),V.push("/dashboard")):s.value="Error en la autenticaci\xF3n"}catch(e){console.error("Error de login:",e),s.value=((a=(c=e.response)==null?void 0:c.data)==null?void 0:a.message)||"Error al iniciar sesi\xF3n. Verifique sus credenciales."}finally{d.value=!1}};return(c,a)=>(v(),p(h,{style:{width:"40%"}},{default:l(()=>[t(k,{class:"pa-4"},{default:l(()=>[t(x,{src:C(U),height:"150px",cover:""},null,8,["src"]),t(w,null,{default:l(()=>[T]),_:1}),t(b,null,{default:l(()=>[$]),_:1}),j,t(f,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e),label:"Usuario"},null,8,["modelValue"]),t(f,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),"append-icon":u.value?"mdi-eye":"mdi-eye-off",type:u.value?"text":"password",label:"Contrase\xF1a","onClick:append":a[2]||(a[2]=e=>u.value=!u.value)},null,8,["modelValue","append-icon","type"]),m("div",null,[t(B,{color:"blue",variant:"elevated",onClick:_,loading:d.value},{default:l(()=>[A]),_:1},8,["loading"])]),s.value?(v(),p(S,{key:0,type:"error",class:"mt-4",closable:"","onClick:close":a[3]||(a[3]=e=>s.value="")},{default:l(()=>[i(I(s.value),1)]),_:1})):N("",!0)]),_:1})]),_:1}))}};export{D as default};
